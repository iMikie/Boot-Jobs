(function(){define(["backbone","jquery","underscore"],function(t,e,n){var r;return r=function(){function t(t,e,n,r){this.facebook=null!=t?t:!1,this.twitter=null!=e?e:!1,this.linked_in=null!=n?n:!1,this.callback=null!=r?r:"/social/connect_callback"}return t.prototype.update=function(){return e.ajax({url:"/social/connected_networks",success:function(e){return function(n){return e.facebook=n.facebook,e.twitter=n.twitter,e.linked_in=n.linked_in,t.trigger("connected_networks_updated")}}(this)})},t.prototype.isConnected=function(t){switch(t){case"twitter":return this.twitter;case"facebook":return this.facebook;case"linked_in":return this.linked_in;default:"undefined"!=typeof console&&null!==console&&console.log("Error: Invalid provider - provider")}return!1},t.prototype.connect=function(t){return this.isConnected(t)?void 0:this.openConnectWindow(t)},t.prototype.openConnectWindow=function(t){var e,n,r,i;return r="ConnectSocialNetworkWindow","facebook"===t?(n=800,e=700):(n=600,e=300),i="status=0,width="+n+",height="+e+";resizable=0;scrollbars=0;titlebar=0",window.open(this.providerAuthUrl(t),r,i),window.focus()},t.prototype.providerAuthUrl=function(t){return"/auth/"+t+"/with_callback?callback="+this.callback},t}(),n.extend(r,t.Events),e(document).on("connect_social_network_end",function(){return r.trigger("connect_social_network_end")}),r})}).call(this);