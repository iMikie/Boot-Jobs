(function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;define(["jquery","backbone","initializer","global/tiptip","lib/partials","lib/keyword_input","lib/social_networks","jquery.masonry","google/analytics","mixpanel","rollbar","jquery.magnific","lib/autocomplete","lib/transitional_autocomplete","lib/form","lib/login_or_join","lib/media","lib/job_filter","lib/hover_dropdown","underscore","lib/dropdown","lib/view","lib/talent_listings","lib/page_speed","lib/associations","models/new_tag","models/startup","lib/talent_form","lib/form"],function(t,n,i,r,o,a,s,l,u,c,d,h,p,f,m,g,v,y,b,_,w,x,C,S,k,E,T,D){var A,I,N;return I=_.extend({},n.Events),N=_.once(function(){return S.track("jobs#find")}),A={defaultPosition:"top",show:{effect:!1,delay:0},hide:{effect:!1}},{forms_job_listing:function(i,a){var s,l,u,c,d;return d={initializeInput:function(){return this.$(this.input()).attr("autocomplete","country chromehack"),this._onAssociationChange(),this.listenTo(this.collection,"add remove",function(e){return function(){return e._onAssociationChange(!0)}}(this))},_onAssociationChange:function(e){return this._updateIdField(),this._hideInputIfGreaterThanMax(e)},_updateIdField:function(){var e,t;return e=function(){var e,n,i,r;for(i=this.collection.models,r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(t.id);return r}.call(this),this.$(".js-tagger-ids").val(e.join())},_hideInputIfGreaterThanMax:function(e){var t,n;if(n=this.$el.data("max"))return t=this.$(this.input()),this.collection.length<n?(t.show(),e?t.focus():void 0):t.hide()}},l=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.initialize=function(e){var t;return this.collection=new n.Collection(function(){var e,n,i,r;for(i=this.$el.data("existing"),r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(new E(t));return r}.call(this)),i.__super__.initialize.call(this,_.extend({tagType:this.$el.data("type")+"Tag",container:this.$(".js-association-container")},e)),this.initializeInput()},i}(k.NewTagField),_.extend(l.prototype,d),u=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.request_options=function(e){return{url:"/job_listings/autocomplete_startups",data:{query:e},dataType:"json",type:"get"}},n.prototype.process_response=function(e,t){var i;return i=n.__super__.process_response.call(this,e,t),this._more_template||(this._more_template=f.more_template("Create new company ")),i.push({label:this._more_template({term:t}),value:{name:t,unmatched:!0}}),i},n.prototype.render_item=function(e,t){return f.render_item({image:e.pic,main_text:this.highlighted_text(e.name,t)})},n.prototype.update_model=function(e){return this.model.set({id:e.id,company_name:e.name,logo_url:e.pic,slug_url:e.url,claimable_without_review:e.claimable_without_review})},n}(f.BaseAutocomplete),c=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.initialize=function(e){var t;return this.collection=new n.Collection(function(){var e,n,i,r;for(i=this.$el.data("existing"),r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(new T(t));return r}.call(this)),r.__super__.initialize.call(this,_.extend({container:this.$(".js-association-container")},e)),this.initializeInput()},r.prototype.initializeAutocomplete=function(){return new u({el:this.input(),model:new T})},r.prototype.associationFromSelect=function(e,t){return e.unmatched?console.log(e.name):t.model},r.prototype._select=function(e,n){return e.unmatched?this.trigger("createSelected",e):(this.collection.add(n.model),t(this.input()).val("")),!0},r}(k.StartupField),_.extend(c.prototype,d),s=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,n),i.prototype.events=function(){return _.extend(i.__super__.events.apply(this,arguments),{"change .js-job-type":"_jobTypeChanged","click .js-set-cofounder-type":"_setCofounderTypeClicked","change .js-currency-code":"_currencyCodeChanged","change .js-primary-role":"_setRoleVisibility"})},i.prototype.initialize=function(){return this.form=new D.PartialForm({el:this.$(".js-form")}),D.showSectionToggle(this.$el,".js-show-section"),this._initializeCounters(),this._initializeStartupField(),this._initializeTaggers(),this._focusOnVisibleInput(this.$("input[type='text']")),this._showCompanySizeInput()},i.prototype._initializeCounters=function(){var e,n,i,r,o,a,s;for(a=this.$("textarea"),s=[],r=0,o=a.length;o>r;r++)i=a[r],e=t(i),n=e.next(".character_counter"),s.push(new m.CharacterCounter({el:i,max:n.data("max"),container:n}));return s},i.prototype._initializeStartupField=function(){var e;return e=this.$(".js-startup-tagger"),0!==e.length?(this.startupField=new c({el:e}),this.listenTo(this.startupField.collection,"add",function(e){return function(t){return e._companySelected(t)}}(this)),this.listenTo(this.startupField.collection,"remove",function(e){return function(){return e._companyRemoved()}}(this)),this.listenTo(this.startupField,"createSelected",function(e){return function(){return e._companySelected()}}(this))):void 0},i.prototype._initializeTaggers=function(){var e,t,n,i,r,o;for(r=this.$(".js-tagger"),o=[],n=0,i=r.length;i>n;n++)t=r[n],e=new l({el:t}),o.push(function(e){return function(t){return e.listenTo(t.collection,"add",function(){var n,i;return e.form.removeErrors(t.$el),i=e.$("input[type='text']"),n=i.index(t.input()),-1!==n&&(i=i.slice(n)),e._focusOnVisibleInput(i)})}}(this)(e));return o},i.prototype._submit=function(){return this._setCoworkerTaggings(),this.form.removeErrors(),i.__super__._submit.apply(this,arguments)},i.prototype._handleSuccess=function(e){return window.location=e.next_url},i.prototype._handleError=function(e){return i.__super__._handleError.apply(this,arguments),this.form.handleErrors(e),this.scrollToErrors()||this.form.scrollToErrors()},i.prototype._form=function(){return this.$("form")},i.prototype._setCoworkerTaggings=function(){var e,t;return e=this.$(o.selector("projects/collaborator_form")),t=e.data("collaborator-taggings"),this.$("input.js-coworker-taggings").val(JSON.stringify(t))},i.prototype._setRoleVisibility=function(){var e,n,i,r,o,a,s;for(s=this.$(".js-primary-role").val(),o=this.$(".js-role-options"),a=[],n=0,i=o.length;i>n;n++)r=o[n],e=t(r),a.push(e.toggle(e.find("input").val()!==s));return a},i.prototype._jobTypeChanged=function(){var e;return e="cofounder"===this.$(".js-job-type").val()?"Up":"Down",this.$(".js-no-salary-explanation")["slide"+e]()},i.prototype._setCofounderTypeClicked=function(){return this.$(".js-job-type").val("cofounder"),this._jobTypeChanged()},i.prototype._currencyCodeChanged=function(){var e;return e=this.$(".js-currency-code"),this.$(".js-currency-symbol").text(e.data(e.val().toLowerCase()))},i.prototype._companySelected=function(e){var n;return this.form.removeErrors(this.startupField.$el),n=function(e){return function(){var n;return n=_.reject(e.$("input[type='text']"),function(n){return t.contains(e.startupField.$el[0],n)}),e._focusOnVisibleInput(n)}}(this),!e||e.get("claimable_without_review")?n():(this._showCompanySizeInput(),this.$(".js-new-startup-fields").slideUp("fast",n))},i.prototype._companyRemoved=function(){return this._showCompanySizeInput(),this.$(this.startupField.input()).val(""),this.$(".js-new-startup-fields").slideDown("fast")},i.prototype._focusOnVisibleInput=function(e){var t;return null!=(t=this.$(_.find(e,function(e){return this.$(e).is(":visible")})))?t.focus():void 0},i.prototype._showCompanySizeInput=function(){var e,t,n;return n=this.startupField&&this.startupField.collection.length>0?["startup","job-listing"]:["job-listing","startup"],e=n[0],t=n[1],this.$(".js-"+e+"-company-size").hide().find("select").prop("disabled",!0),this.$(".js-"+t+"-company-size").show().find("select").prop("disabled",!1)},i}(D.FormContainer),r.init(),new s({el:a})},list:function(i,r){var o,a,s,l,u,c,d,h,p,f,m;for(o=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,n),i.prototype.events={"click .delete-listing":"_onDeleteClick","click .js-toggle-draft":"_onDraftToggle"},i.prototype.initialize=function(){return this.jobListingId=this.$el.data("job-listing-id")},i.prototype._onDeleteClick=function(e){return e.preventDefault(),confirm("Are you sure you want to delete this listing?")?t.ajax({url:t(e.target).attr("href"),type:"DELETE",success:function(e){return function(){return e.$el.remove()}}(this)}):void 0},i.prototype._onDraftToggle=function(e){return e.preventDefault(),t.ajax({url:t(e.target).attr("href"),type:"POST",success:function(e){return function(t){return t.reload_page?window.location.reload():e.trigger("draftToggled")}}(this)})},i}(n.View),d=function(e){return function(){var n;return n=t(e).parent(".job-listing-list-container"),null!=n.data("startup_id")?(n.html(AL.centeredLoadingImage()),t.get("/startups/"+n.data("startup_id")+"/job_listings/list",function(e){return n.hide().html(e).slideDown("fast")})):void 0}}(this),a=r.data("initial-job-listing-id"),f=r.data("share-job-listing-id"),m=!1,c=i(".listing-row"),h=[],l=0,u=c.length;u>l;l++)p=c[l],s=new o({el:p}),a&&a===s.jobListingId?(t.scrollTo(s.$el),s.onAdToggleClick()):f&&f===s.jobListingId&&s.$el.find(".js-share-listing").click(),h.push(s.on("draftToggled",d));return h},apply_button:function(e,n){var i,r,o,a,s,l,u;return i=1===n.data("allowed_to_mark_interest"),l=n.data("startup_id"),u=n.data("startup_name"),r=1===n.data("force_notes"),e(".interested_without_note",this).click(function(){return o(1,void 0)}),e(".interested_with_note",this).click(function(){return e(".user_note").val().length<1?(e(".user_note").removeClass("input_error"),e(".user_note").addClass("input_error"),setTimeout(a,1750),e(".user-note",this).focus()):o(1,e(".user_note").val())}),t(window).resize(function(){return I.trigger("fade_out_apply_button_popup")}),e(".user_note").keyup(function(t){var n;return n=e(t.target).val(),I.trigger("update_user_note_fields",n)}),e(".apply-popover").on("click",function(e){return e.stopPropagation()}),e(".interested_button",this).click(function(){var e;if(a(),t(this).hasClass("logged_out"))e=new g,e.open({hide_close_button:!1,header_msg:"You need to sign up to reach out to "+u}),g.off("user_logged_in"),g.on("user_logged_in",function(){var e;return e="/"+n.data("startup")+"/jobs/apply",n.data("job-listing")&&(e+="/"+n.data("job-listing")),window.location=e});else{if(!i)return void(window.location="/jobs?tab=profile&startup_id="+l);s()}return null!=c&&c.track("talent: clicked apply button on startup or firm profile"),!1}),e(".dismiss_intercept").click(function(){return I.trigger("fade_out_apply_button_popup")}),a=function(){return function(){return I.trigger("remove_input_error_apply_button_popup")}}(this),s=function(n){return function(){var i,r;return I.trigger("fade_out_apply_button_popup"),r=t(document).width()-e(".apply-popover").width(),i=Math.max(0,t(".interested_button",n).position().left-t(window).scrollLeft()-(t(".apply-popover",n).width()-t(".interested_button",n).width())/2+25),e(".apply-popover",n).css("left",Math.min(r,i)),e(".apply-popover-container",n).fadeIn(500),e(".user-note",n).focus()}}(this),o=function(){return function(e,n){return t.ajax({url:"/job_pairings",type:"POST",data:{job_pairing:{startup_id:l,user_interested:e,user_note:n},source:"apply_button",tab:t(".tab.active").data("tab_name")}}),I.trigger("user_applied_to_company",l)}}(this),I.on("user_applied_to_company",function(t){return l===t?(e(".apply-popover").css("left",0),e(".prompt > .buttons").hide({duration:"fast",animation:"drop",direction:"right"},function(){return e(".prompt > .success").show(),e(".prompt > .buttons").remove()})):void 0}),I.on("update_user_note_fields",function(t){return e(".user_note").val(t)}),I.on("remove_input_error_apply_button_popup",function(){return e(".user_note").removeClass("input_error")}),I.on("fade_out_apply_button_popup",function(){return e(".apply-popover-container").fadeOut(250)})},connection:function(t){var i;return i=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initialize=function(e){return this.render(e.connection)},n.prototype.render=function(e){return this.$el.html(_.template(this.constructor.template,e,{interpolate:/\{\{(.+?)\}\}/g}))},n}(n.View),i.template=t("#connections-to-startup").html(),i},browse:function(e){var t,n;return n=e(".data-div").data("version"),t=e(".data-div").data("should_track"),t?c.track("talent: viewed landing page",{version:n,url:window.location.href}):void 0},browse_sidebar:function(i,r){var a,s,l,u,d,h,p;return i(".tab, .section").hover(function(){return t(this).addClass("hover")},function(){return t(this).removeClass("hover")}),p=!1,h=function(e,n,a){var s,l;return null==a&&(a=!1),!a&&e.hasClass("active")||p&&!a?void 0:(p=!0,t("#tiptip_holder").hide(),t("body").animate({scrollTop:0},"fast"),"profile"===e.data("tab_name")&&1!==r.data("user_signed_in")?(s=n.startup_name?"Sign up to reach out to "+n.startup_name:"You need to sign up to create a profile",l=new g,l.open({hide_close_btn:!1,header_msg:s}),g.off("user_logged_in"),g.on("user_logged_in",function(){var e;return e="/jobs?tab=profile",n.startup_id&&(e+="&startup_id="+n.startup_id),window.location=e}),void(p=!1)):(C.switchTab(t(o.selector("job_listings/browse_filters")),function(){return t("#startups_content").empty(),t("#startups_content").html(AL.loadingImage("width: auto; margin: 0 auto; display: block; margin-top: 20px")),n.tab=e.data("tab_name"),t.ajax({url:"/jobs",statusCode:{401:function(e){return window.location=e.responseText}},type:"GET",data:n,success:function(e){return e.redirect?void(window.location=e.url):t("#startups_content").html(e)},complete:function(){return p=!1}})}),i(".tab").removeClass("active"),e.addClass("active"),document.title=e.data("title")+" - AngelList",d.navigate("#"+e.data("tab_name")),null!=c?c.track("talent: candidate: viewed "+e.data("tab_name")+" tab"):void 0))},i(".tab").click(function(){return p?!1:d.navigate("#"+t(this).data("tab_name"),{trigger:!0})}),i(".sidebar_tags > .section").click(function(){return t(this).find("a").length>0?window.location.href=t(this).find("a").first().attr("href"):void 0}),I.on("switch_tab",function(e,t,n){return null==n&&(n=!1),h(i(".tab[data-tab_name="+e+"]"),t,n)}),i(".email_alert").submit(function(){return i(".g-button").prop("disabled",1),i(".g-button").addClass("disabled"),m=t(this),o["with"](t(o.selector("job_listings/browse_filters")),function(e){var n,r;return r=e.job_filter,n=null,r&&(n=r.filter_data),t.ajax({type:"post",url:t(m).attr("action"),dataType:"json",data:{email:i(".email").val(),filter_data:n},success:function(e){return"success"===e.status?(i(".g_form_group_vertical").slideUp(),i(".success").show(),i(".errors").hide()):e.redirect?void(window.location=e.url):(i(".errors").html(e.message),i(".errors").show())},complete:function(){return i(".g-button").prop("disabled",0),i(".g-button").removeClass("disabled")}})}),!1}),s=!1,u=!1,I.on("update_startup_counts",function(){return s?void(u=!0):(s=!0,t.ajax({type:"post",url:"/job_pairings/counts",data:{actor:"user"},success:function(e){var t;return u?(s=!1,u=!1,void I.trigger("update_startup_counts")):(t=e.counts,t.matched_count>0?i(".count.intros").html(t.matched_count).show():0===t.matched_count&&i(".count.intros").hide(),t.interested_count>0?i(".count.interested").html(t.interested_count).show():0===t.interested_count&&i(".count.interested").hide(),t.network_count>0?i(".count.network").html(t.network_count).show():0===t.network_count&&i(".count.network").hide(),t.starred_count>0?i(".count.starred").html(t.starred_count).show():0===t.starred_count&&i(".count.starred").hide(),t.alist_count>0?i(".count.alist").html(t.alist_count).show():0===t.alist_count&&i(".count.alist").hide(),t.alist_matched_count>0?i(".count.alist-intros").html(t.alist_matched_count).show():0===t.alist_matched_count&&i(".count.alist-intros").hide(),s=!1)}}))}),I.on("show_tab",function(e){return i(".tab[data-tab_name="+e+"]").show()}),a=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.routes={"_=_":function(){return location.hash=""},":tab_name(/f!:filters)(/)":"mainRoute"},n}(n.Router),d=new a,l={},d.on("route:mainRoute",function(e,n){var r;return r=i(".tab[data-tab_name="+e+"]"),1===r.length&&(h(r,{}),n)?l[e]=t.parseJSON(n):void 0}),t(document).on("update_filters_in_url",function(e,t){return d.navigate("#"+i(".tab.active").data("tab_name")+"/f!"+t)}),n.history.start(),_.defer(function(){return I.trigger("update_startup_counts")})},browse_startups_cta:function(e,n){return e(".cta-link").click(function(){return I.trigger("switch_tab","profile",{startup_id:t(this).data("startup_id"),startup_name:t(this).data("startup_name")}),!1}),t(document).on("hide_jobs_cta",function(){return n.slideUp(),!1})},browse_profile_new:function(e){return t(document).trigger("hide_jobs_cta"),e(".js-alist-opt-out").on("click",function(){return confirm("Are you sure you want to opt-out of A-List?")})},browse_profile_preview:function(t,i){var o;return o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.events=function(){return{"click .switch-tab-profile":function(){return this.vent.trigger("switch_tab","profile",{})}}},n.prototype.initialize=function(e){var t,n;return n=new C.BrowseCandidatesTableRow({el:this.$(".browse_candidates_table_row")}),n.isExpanded()||n.toggleExpand(),this.vent=e.vent,t=this.$(".action_prompt"),this.listenTo(n,"expand",function(){return t.text("Click to collapse")}),this.listenTo(n,"contract",function(){return t.text("Click to expand")})},n}(n.View),r.init(),new o({el:i,vent:I})},browse_filters:function(t,n){var i,r,o;return i=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.events=function(){return _.extend(n.__super__.events.call(this),{"change .company_size":function(e){return function(t){return e._onSelectChange(t,"company_size")}}(this),"change .company_stage":function(e){return function(t){return e._onSelectChange(t,"company_stage")}}(this)})},n.prototype.initialize=function(e){return n.__super__.initialize.call(this,e),this._initializeSliders()},n.prototype.keywordInputs=function(){return _.extend(n.__super__.keywordInputs.call(this),{".market-input":["markets","MarketTag"],".skill-input":["skills","SkillTag"]})},n.prototype._initializeSliders=function(){var e,t,n;return e=this.$(".salary-slider-container"),n=new C.Slider({el:e,toText:function(e,t){return 200===t?t="200k+":t+="k","$"+e+"k &mdash; $"+t}}),this.listenTo(n,"change",function(e){return function(t){return e.job_filter.add_data("salary",t)}}(this)),e=this.$(".equity-slider-container"),t=new C.Slider({el:e,toText:function(e,t){return 2===t&&(t="2+"),e+" &mdash; "+t+"%"}}),this.listenTo(t,"change",function(e){return function(t){return e.job_filter.add_data("equity",t)}}(this))},n}(C.BrowseFilter),o=new y(t(".currently-showing"),"JobListing",n.data("tab")),r=new i({el:n,job_filter:o,vent:I})},browse_profile_tips:function(i,r){var o;return o=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,n),i.prototype.events={"click .tips_link":"openPopover"},i.prototype.initialize=function(){return this.load()},i.prototype.openPopover=function(e){return e.preventDefault(),t.facybox({ajax:this.$(".tips_link").data("popover_url")})},i.prototype.updatePercent=function(e,t){var n;return e.removeClass("u-colorSuccess u-colorWarning u-colorError"),n="u-colorError",t>=70?n="u-colorSuccess":t>=50&&(n="u-colorWarning"),e.addClass(n).text(t+"%")},i.prototype.tipTipMsg=function(e){return 65>e?"Successful candidates typically have at least 65% profile completeness.":"Find out how to improve your profile."},i.prototype.load=function(){return t.ajax({url:this.$el.data("ajax_url"),type:"get",success:function(e){return function(t){var n;return n=parseInt(t.pct,10),100!==n?(e.updatePercent(e.$(".pct"),n),e.$(".js-completeness-section").show(),e.$(".tips_link").attr("title",e.tipTipMsg(n))):void 0}}(this)})},i}(n.View),i(".fast_tiptip").qtip(A),new o({el:r})},browse_startups:function(e,n){var i,r,a,l,u,d,h,p,f,m,g;return f=function(){return t(window).unbind("scroll")},r=function(){return t(window).scroll(function(){return t(window).scrollTop()>t(document).height()-t(window).height()-400&&m(),!0})},f(),a=e(".startup-container"),p=a.data("startup_ids"),l=a.data("listing_ids")||[],r(),window.location.href.match("al_tweet")?null!=c&&c.track("talent: clicked on a link from a Twitter share"):document.referrer.match(/google\.com|bing/)&&null!=c&&c.track("talent: search traffic to /jobs",{url:window.location.href}),u=1,g=!1,i=10,m=function(){var r;if(!g)return g=!0,r=(new Date).getTime(),e(".startup-container").attr("data-checksum",r),function(r,a){var s,u,c,d;return e(".loading").last().show(),d=(r-1)*i,u=d+(i-1),0===p.slice(d,+u+1||9e9).length?(c=1===r?e(".none").clone():e(".end").clone(),e(".startup-container").append(c.show()).show(),e(".loading").hide(),void e(".browse-all-companies").on("click",function(){return I.trigger("switch_tab","find",{},!0)})):(s=t("<div />"),t.get("/job_listings/browse_startups_table",{startup_ids:p.slice(d,+u+1||9e9),listing_ids:l.slice(d,+u+1||9e9),tab:e(".startup-container").data("tab")},function(t){return e(".startup-container[data-checksum="+a+"]").show(),e(".loading").hide(),s.html(t).appendTo(".startup-container[data-checksum="+a+"]"),g=!1,o["with"](_.last(e(o.selector("job_listings/browse_startups_table"))),function(e){return e.setStartIndex(d)}),1===r?C.processFirstRow("job_listings/browse_startups_table",n.data("expand-first-startup"),n.data("initial-vote"),n.data("initial-vote-id")):void 0}))}(u,r),u++},I.on("candidate_processed_startup",function(){return t.contains(document,n[0])&&t(".browse_startups_table_row:visible").length<i?m():void 0}),I.on("listingsLoaded",function(i){return t.contains(document,n[0])?(p=i.ids,l=i.listing_ids||[],u=1,g=!1,e(".startup-container").empty(),m(),!1):void 0}),t(document).on("bind_update_on_scroll",function(){return r(),!1}),t(document).on("unbind_updating_on_scroll",function(){return f(),!1}),I.on("listingsLoading",function(){return e(".startup-container").empty().hide(),e(".loading").show(),!1}),h=new s(!1),n.one("click",".connect-social",function(){return 1===t(this).data("connected")?(t(this).addClass("loading"),d(t(this).data("social_platform")),c.track("talent: network: rescanning "+t(this).data("social_platform"))):(t(this).addClass("loading"),h.connect(t(this).data("social_platform")),c.track("talent: network: connecting "+t(this).data("social_platform")))}),s.on("connect_social_network_end",function(){return c.track("talent: network: connected "+t(this).data("social_platform")),h.update()}),s.on("connected_networks_updated",function(){return h.isConnected("facebook")?(e(".facebook-dl").slideUp(300,function(){return e(".facebook-dl").remove()}),e(".success-notice.facebook").slideDown(),setTimeout(function(){return e(".success-notice.facebook").slideUp(400,function(){return e(".success-notice.facebook").remove()})},4200),d("facebook")):(e(".facebook-dl").find(".fb-loading").hide(),e(".facebook.dl-button").show()),h.isConnected("linked_in")?(e(".linkedin-dl").slideUp(300,function(){return e(".linkedin-dl").remove()}),e(".success-notice.linked_in").slideDown(),setTimeout(function(){return e(".success-notice.linked_in").slideUp(400,function(){return e(".success-notice.linked_in").remove()})},4200),d("linked_in")):(e(".linkedin-dl").find(".linkedin-loading").hide(),e(".linkedin.dl-button").show())}),h=new s(!1),e(".dl-button").click(function(){return"function"==typeof c.track&&c.track("employer clicked connect network"),t(this).parents(".facebook-dl").find(".fb-loading").show(),t(this).hide(),e(".status",e(".facebook-dl")).html("Connecting Facebook..."),h.connect("facebook")}),e(".linkedin-dl-button").click(function(){return"function"==typeof c.track&&c.track("employer clicked connect network"),"function"==typeof c.track&&c.track("employer clicked connect professional network"),t(this).parents(".linkedin-dl").find(".linkedin-loading").show(),t(this).hide(),e(".status",e(".linkedin-dl")).html("Connecting Linked In..."),h.connect("linked_in")}),e("input.network_subscribe_check").click(function(){return"function"==typeof c.track&&c.track("subscribe for startups in your network"),t(this).parents(".network_subscribe").find(".subscribe-loading").show(),t(this).hide(),e(".status",e(".network_subscribe")).html("Saving..."),t.ajax({url:"/job_listings/subscribe_startups_in_network",type:"post",success:function(n){return"success"===n.status&&(c.track("talent: network: network jobs subscribed "+t(this).data("social_platform")),e(".network_subscribe").slideUp(300,function(){return e(".network_subscribe").remove()}),e(".success-notice.subscribe").slideDown(),setTimeout(function(){return e(".success-notice.subscribe").slideUp(400,function(){return e(".success-notice.subscribe").remove()})},8200)),"error"===n.status?c.track("talent: network: network jobs failed to subscribe"):void 0},error:function(){return c.track("talent: network: network jobs failed to subscribe with error")}})}),d=function(e){return t.ajax({url:"/job_profiles/synchronous_indexing",type:"post",data:{social_platform:e},success:function(e){return"success"===e.status&&c.track("talent: network: companies updated "+t(this).data("social_platform")),"error"===e.status?c.track("talent: network: no companies "+t(this).data("social_platform")):void 0},error:function(){return c.track("talent: network: no companies error "+t(this).data("social_platform"))}})},m()},browse_startups_table:function(n,i){var a,s,l,u;return s=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,n),i.prototype.showConnection=function(e){return o["with"](t(o.selector("job_listings/connection")),function(t){return function(n){return new n({el:t.$(".js-connection"),connection:e})}}(this))},i}(C.BrowseStartupsTableRow),a=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,n),i.prototype.initialize=function(e){var t,n,r,o,a;for(i.__super__.initialize.call(this,e),o=this.rows,t=function(e){return function(t){return t.on("interestedButtonClick",function(){return e.switchToProfileUnlessAllowed(t)}),t.on("addNoteButtonClick",function(){return e.switchToProfileUnlessAllowed(t)}),t.on("starToggle",function(){return e.switchToProfileUnlessAllowed(t)}),t.on("star",function(){return e._trackRowEvent(t,"star")}),t.on("expand",function(){return e._trackRowEvent(t,"expand")})}}(this),n=0,r=o.length;r>n;n++)a=o[n],t(a);return N(),this.$el.data("show-connections")?this._loadConnections():void 0},i.prototype.setStartIndex=function(e){var t,n,i;return this.startIndex=e,this._trackedImpression||"find"!==this.tab?void 0:(this._trackRowEventAjax(function(){n=[];for(var e=t=this.startIndex,i=this.startIndex+this.rows.length-1;i>=t?i>=e:e>=i;i>=t?e++:e--)n.push(e);return n}.apply(this),function(){var e,t,n;for(n=[],e=0,t=u.length;t>e;e++)i=u[e],n.push(i.rowId);return n}(),"view"),this._trackedImpression=!0)},i.prototype.switchToProfileUnlessAllowed=function(e){return e.allowedToMarkInterest?void 0:this._showProfileTab(e.rowId,e.name)},i.prototype.rowOnInterested=function(e){return i.__super__.rowOnInterested.call(this,e),this._trackRowEvent(e,"interested")},i.prototype._onProcessed=function(e,n){return i.__super__._onProcessed.call(this,e,n),I.trigger("candidate_processed_startup"),I.trigger("update_startup_counts"),n.show_howitworks?t(".how-it-works-link").trigger("click"):void 0},i.prototype._showPostInterestedRowPartial="job_listings/post_candidate_applied",i.prototype._showProfileTab=function(e,t){return I.trigger("switch_tab","profile",{startup_id:e,startup_name:t})},i.prototype._trackRowEvent=function(e,t){var n,i;if("find"===this.tab&&(null==this._trackedEvents&&(this._trackedEvents={}),i=this.startIndex+_.indexOf(this.rows,e),!_.contains(this._trackedEvents[i],t)))return((n=this._trackedEvents)[i]||(n[i]=[])).push(t),this._trackRowEventAjax(this.startIndex+_.indexOf(this.rows,e),e.rowId,t)},i.prototype._trackRowEventAjax=function(e,n,i){return t.ajax({url:"/job_listings/track_row_event",type:"POST",data:{index:e,startup:n,event:i}})},i.prototype._loadConnections=function(){var e;return t.ajax({url:"/job_listings/connections",data:{startup_ids:function(){var t,n,i,r;for(i=this.rows,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.rowId);return r}.call(this)},success:function(t){return function(n){var i,r,o,a,s;if(i=n.connections){for(a=t.rows,s=[],r=0,o=a.length;o>r;r++)e=a[r],s.push(i[e.rowId]?e.showConnection(i[e.rowId]):void 0);return s}}}(this)})},i}(C.BrowseTable),r.init(),u=function(){var e,t,i,r;for(i=n(".browse_startups_table_row"),r=[],e=0,t=i.length;t>e;e++)l=i[e],r.push(new s({el:l}));return r}(),new a({el:i,rows:u})},browse_startup_details:function(e){return e(".screenshots-parent").click(function(e){return e.stopPropagation()}),e(".screenshot-link").click(function(){return null!=c?c.track("talent: candidate: match flow: clicked on a screenshot"):void 0}),e(".screenshots").each(function(){return t(this).magnificPopup({delegate:".screenshot-link",type:"image",gallery:{enabled:!0}})}),e(".report-company").click(function(e){return e.stopPropagation()}),e("a").click(function(e){return this.target="_blank",e.stopPropagation()}),e(".showTraction").click(function(){return e(".showTraction").hide(),e(".metric:nth-child(n+3)").show(),e(".traction .content .metric").css("margin-right",0),new l(e(".traction .content"),{itemSelector:".metric",columnWidth:0,gutterWidth:12}),null!=c&&c.track("talent: candidate: match flow: viewed more traction"),!1}),e(".details-row > .content").click(function(){return!1})},report_company:function(e){return e(".report-company-form").keydown(function(e){return 13===e.keyCode?!1:void 0}),e(".report-company-form").submit(function(){return e(".form-sending").show(),e("button",t(this)).hide(),t(this).ajaxSubmit(function(){return function(){return e(".close").click()}}(this)),!1}),e("textarea",".report-company-form").focus()},post_candidate_applied:function(e,t){return new C.PostYesRow({el:t,jobPairing:{startup_id:t.data("startup-id"),user_interested:0}})},showcase:function(e){var n,i,r,o;return u.push(["_trackPageview","/PV/startup/jobs"]),e(".company-lockup").data("bkgd-src")&&(i=e(".company-lockup").data("bkgd-src"),e(".company-lockup .image-layer").css("background-image","url("+i+")"),e(".company-lockup .image-layer").fadeIn()),v.isDesktop()&&e(".about-section").animate({height:e(".caption").height()},1e3),e(".screenshots").magnificPopup({delegate:".screenshot",type:"image",gallery:{enabled:!0}}),r=function(){var n;return n=t(window).scrollTop(),e(".image-layer").css("top",0+.5*n+"px")},n=!1,e(".nav-link").click(function(){var i,r;return e(".nav-link").removeClass("selected"),t(this).addClass("selected"),r=t(this).data("scroll_target"),i=e(r).offset().top-e(".nav-bar").height(),n=!0,t("html,body").animate({scrollTop:i},"fast","swing",function(){return n=!1})}),o=function(){return e(".nav-link").each(function(){var n,i,r;return i=e(t(this).data("bounds_target")),r=i.offset().top-e(".nav-bar").height(),n=r+i.height(),t(window).scrollTop()>=r&&t(window).scrollTop()<=n?(e(".nav-link").removeClass("selected"),t(this).addClass("selected")):void 0})},v.isDesktop()&&t(window).scroll(function(){return r(),t(window).scrollTop()>e(".action-buttons").offset().top?e(".top-apply-button").is(":visible")||e(".top-apply-button").slideDown("fast"):e(".top-apply-button").is(":hidden")||e(".top-apply-button").slideUp("fast"),n?void 0:o()}),e(".show-all-link").click(function(){var n;return n=e(t(this).data("target")),t(this).find("a").addClass("loading"),t.ajax({type:"get",url:"/job_listings/expandable_list",data:{slug:t(this).data("slug"),list:t(this).data("list")},success:function(e){return function(i){return t(e).hide(),n.html(i)}}(this)})})},reactivate_jobs:function(e){return e("form").submit()},talent_candidate_cta:function(e){return e(".cta-link").click(function(){return null!=c&&c.track("talent: clicked jobs tab cta"),I.trigger("switch_tab","profile",{startup_id:t(this).data("startup_id"),startup_name:t(this).data("startup_name")}),!1})},sidebar_links:function(e){return e(".how-it-works-link").click(function(){return t.magnificPopup.open({items:{src:t(this).attr("href")},type:"ajax"}),!1})},private_fundraising_dbar:function(e){return e(".js-help").magnificPopup({type:"ajax",ajax:{tError:"Sorry, there was an error. Please reload the page and try again."}})
}}})}).call(this);